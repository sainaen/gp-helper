(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var _require = require("./data");

var sws = _require.sws;
var inses = _require.inses;

function findSW(bytes) {
    var generic;
    for (var i = 0; i < sws.length; i++) {
        if (sws[i].sw1 === bytes[0]) {
            if (sws[i].sw2 === bytes[1]) {
                return sws[i];
            }
            if (!sws[i].sw2) {
                generic = sws[i];
            }
        }
    }
    if (generic) {
        return generic;
    }
    throw new Error("Unknown SW!");
}

function isByteString(str) {
    return str.length % 2 == 0 && /^[0-9a-fA-F]+$/.test(str);
}

function splitIntoBytes(str) {
    var result = [];
    while (str) {
        result.push(parseInt(str.substr(0, 2), 16));
        str = str.substr(2);
    }
    return result;
}

function isSW(bytes) {
    return bytes.length == 2;
}

function isGpAPDU(bytes) {
    return bytes[0] & 0x80 && bytes.length > 4;
}

function isSelectAPDU(bytes) {
    return bytes[0] == 0 && bytes[1] == 0xA4 && bytes[2] == 0x04;
}

function isINS(bytes) {
    return bytes.length == 1 && inses[bytes[0]] != null;
}

function formTokenizedAPDU(str) {
    var knownTokens = {
        INS: { id: "ins" },
        CLA: { id: "cla" },
        DATA: { id: "data", long: true },
        D: { id: "data", long: true },
        MAC: { id: "mac", long: true },
        LE: { id: "le" },
        P1: { id: "p1" },
        P2: { id: "p2" },
        LC: { id: "lc" }
    };
    return str.toUpperCase().split(/\s+/g).map(function sanitize(token) {
        return token.replace("0X", "").replace(/[,.;]+/g, "").trim();
    }).reduce(function parse(result, token) {
        if (token.indexOf(":") == -1) {
            console.warn("Wrong token", token);
            return result;
        }
        var parsedToken = token.split(":");
        if (parsedToken[0] in knownTokens) {
            var tokenProp = knownTokens[parsedToken[0]];
            if (tokenProp.id in result) {
                console.warn("Duplicate token", tokenProp.id);
            }
            result[tokenProp.id] = tokenProp.long ? splitIntoBytes(parsedToken[1]) : parseInt(parsedToken[1], 16);
        } else {
            console.warn("Unknown token", parsedToken[0]);
        }
        return result;
    }, {});
}

function formAPDU(bytes) {
    var apdu = {};
    if (!bytes[0] || (bytes[0] & 0x80) == 0) {
        throw new Error("Not a GP Card Command!");
    }
    apdu.cla = bytes[0];
    if ((bytes[0] & 0x04) != 0) {
        apdu.security = true;
    }
    apdu.ins = bytes[1];
    apdu.p1 = bytes[2];
    apdu.p2 = bytes[3];
    apdu.lc = bytes[4];
    if (apdu.security) {
        // mac is included in Lc
        apdu.mac = bytes.slice(5 + apdu.lc - 8, 5 + apdu.lc);
    }
    apdu.data = bytes.slice(5, 5 + apdu.lc - (apdu.mac ? apdu.mac.length : 0));
    var additionalLen = bytes.length - 5 - apdu.lc;
    if (additionalLen > 1) {
        throw new Error("Wrong Lc!");
    }
    if (additionalLen == 1) {
        apdu.le = bytes[5 + apdu.lc + (apdu.mac ? apdu.mac.length : 0)];
    }
    return apdu;
}

function formatByteSimple(byte) {
    var digits = "0123456789ABCDEF";
    return digits.charAt(byte >> 4) + digits.charAt(byte & 0x0F);
}

function formatByte(byte) {
    return "0x" + formatByteSimple(byte);
}

function padToByte(n) {
    while (n.length < 8) {
        n = "0" + n;
    }
    return n;
}

function formatBitset(byte) {
    return formatByte(byte) + (byte ? " (bits set: " + padToByte(byte.toString(2)).split("").reverse().reduce(function (result, bit, idx) {
        if (bit == "1") {
            result += (result.length > 0 ? ", " : "") + idx;
        }
        return result;
    }, "") + ")" : " (bits set: none)");
}

function formatByteArray(bytes) {
    if (bytes.length > 14) {
        return "[" + bytes.slice(0, 8).map(formatByte).join(", ") + ", <a class='more' style='cursor: pointer' data-bytes='" + JSON.stringify(bytes.slice(8, -4)) + "'>...</a>, " + bytes.slice(-4).map(formatByte).join(", ") + "] (len: " + bytes.length + ")";
    }
    return "[" + bytes.map(formatByte).join(", ") + "] (len: " + bytes.length + ")";
}

function formatINS(byte) {
    var name = inses[byte];
    return formatByte(byte) + " (" + (name || "Unknown INS") + ")";
}

function formatGenericAPDU(apdu) {
    var text = (apdu.cla != null ? "\n\tCLA:\t" + formatByte(apdu.cla) : "") + (apdu.ins != null ? "\n\tINS:\t" + formatINS(apdu.ins) : "") + (apdu.p1 != null ? "\n\tP1:\t" + formatBitset(apdu.p1) : "") + (apdu.p2 != null ? "\n\tP2:\t" + formatBitset(apdu.p2) : "") + (apdu.lc != null ? "\n\tLc:\t" + formatByte(apdu.lc) + " (" + apdu.lc + ")" : "") + (apdu.data != null ? "\n\tData:\t" + formatByteArray(apdu.data) : "");
    if ("mac" in apdu) {
        text += "\n\tMAC:\t" + formatByteArray(apdu.mac);
    }
    if ("le" in apdu) {
        text += "\n\tLe:\t" + formatByte(apdu.le);
    }
    return text;
}

function formatAPDU(apdu) {
    var knownAPDUFormaters = {
        0x82: function _(extAuthApdu) {
            var description = "\n\t<b>Description:</b> External Authenticate command which will authenticate host on the card<br/>\t\t     and set " + (extAuthApdu.p1 == 0x03 ? "the third security level (encryption + MAC)" : "the first security level (only MAC)") + " for the next APDUs.";
            return description + "\n" + formatGenericAPDU(apdu);
        }
    };

    return knownAPDUFormaters[apdu.ins] ? knownAPDUFormaters[apdu.ins](apdu) : formatGenericAPDU(apdu);
}

function formatSW(bytes) {
    return findSW(bytes).title;
}

function formatAID(bytes) {
    return bytes.map(formatByteSimple).join("");
}

function formatSelectAPDU(bytes) {
    var lc = bytes[4];
    return "Select AID " + formatAID(bytes.slice(5, 5 + lc));
}

function isTokenizedAPDU(str) {
    var capitalizedStr = str.toUpperCase();
    return !!(capitalizedStr.indexOf("INS:") > -1 || capitalizedStr.indexOf("CLA:") > -1 || capitalizedStr.indexOf("DATA:") > -1 || capitalizedStr.indexOf("MAC:") > -1 || capitalizedStr.indexOf("LC:") > -1 || capitalizedStr.indexOf("P1:") > -1 || capitalizedStr.indexOf("P2:") > -1);
}

function render(inStr) {
    inStr = inStr.trim();
    if (!inStr) {
        throw "Empty input!";
    }
    if (isTokenizedAPDU(inStr)) {
        return "APDU (parts): " + formatAPDU(formTokenizedAPDU(inStr)) + "\n";
    }
    if (!isByteString(inStr)) {
        throw "Not a ByteString!";
    }
    var bytes = splitIntoBytes(inStr);
    if (isGpAPDU(bytes)) {
        return "APDU: " + formatAPDU(formAPDU(bytes)) + "\n";
    }
    if (isSelectAPDU(bytes)) {
        return "APDU: " + formatSelectAPDU(bytes) + "\n";
    }
    if (isSW(bytes)) {
        return "Status Word: " + formatSW(bytes) + "\n";
    }
    if (isINS(bytes)) {
        return "GP Command: " + inses[bytes[0]] + "\n";
    }
    throw "Unknown input!";
}

$(function () {
    // onload
    var $in = $("#in");
    var $out = $("#out");
    var $inForm = $("#inForm");
    $inForm.on("submit", function (e) {
        e.preventDefault();
        var inStr = $in.val();
        try {
            $out.html(render(inStr));
            location.replace(window.location.href.split('#')[0] + '#' + inStr);
        } catch (ex) {
            console.error(ex);
            $out.html(ex);
        }
    });
    $out.on("click", ".more", function (e) {
        var $more = $(e.target);
        var bytes = $more.data("bytes");
        $more.replaceWith(bytes.map(formatByte).join(", "));
    });
    $(window).on("hashchange", function (e) {
        if (window.location.hash) {
            var newVal = window.location.hash.substr(1);
            if ($in.val() !== newVal) {
                $in.val(newVal);
                $inForm.submit();
            }
        }
    });
    if (window.location.hash) {
        $in.val(window.location.hash.substr(1));
        $inForm.submit();
    }
});

},{"./data":2}],2:[function(require,module,exports){
"use strict";

module.exports = {
    inses: {
        0x22: "Manage Security Environment",
        0x2A: "Perform Security Operation [decipher]",
        0x50: "Initialize Update",
        0x70: "Manage Channel",
        0x78: "End R-MAC Session",
        0x7A: "Begin R-MAC Session",
        0x82: "External Authenticate",
        0x84: "Get Challenge",
        0x88: "Internal Authenticate",
        0xA4: "Select",
        0xCA: "Get Data",
        0xCB: "Get Data",
        0xD8: "Put Key",
        0xE2: "Store Data",
        0xE4: "Delete",
        0xE6: "Install",
        0xE8: "Load",
        0xF0: "Set Status",
        0xF2: "Get Status"
    },
    sws: [{ sw1: 0x90, sw2: 0x00, title: "Success" }, { sw1: 0x61, title: "Response data incomplete, more bytes available" }, { sw1: 0x62, sw2: 0x00, title: "Logical Channel already closed" }, { sw1: 0x62, sw2: 0x83, title: "Card Life Cycle State is CARD_LOCKED" }, { sw1: 0x63, sw2: 0x00, title: "External auth: Authentication of host cryptogram failed, or Verification of certificate failed" }, { sw1: 0x63, sw2: 0x10, title: "More data available" }, { sw1: 0x64, sw2: 0x00, title: "No specific diagnosis" }, { sw1: 0x65, sw2: 0x81, title: "Memory failure" }, { sw1: 0x67, sw2: 0x00, title: "Wrong length in Lc" }, { sw1: 0x68, sw2: 0x81, title: "Logical channel not supported or is not active" }, { sw1: 0x68, sw2: 0x82, title: "Secure messaging not supported" }, { sw1: 0x68, sw2: 0x83, title: "The last command of the chain was expected" }, { sw1: 0x69, sw2: 0x82, title: "Security status not satisfied" }, { sw1: 0x69, sw2: 0x85, title: "Conditions of use not satisfied" }, { sw1: 0x6A, sw2: 0x80, title: "Incorrect values in command data" }, { sw1: 0x6A, sw2: 0x81, title: "Function not supported e.g. card Life Cycle State is CARD_LOCKED" }, { sw1: 0x6A, sw2: 0x82, title: "Application/file not found" }, { sw1: 0x6A, sw2: 0x84, title: "Not enough memory space" }, { sw1: 0x6A, sw2: 0x86, title: "Incorrect P1 P2" }, { sw1: 0x6A, sw2: 0x88, title: "Referenced data not found" }, { sw1: 0x6D, sw2: 0x00, title: "Instruction not supported or invalid" }, { sw1: 0x6E, sw2: 0x00, title: "Invalid class" }, { sw1: 0x6F, sw2: 0x00, title: "No specific diagnosis error (typically low level error, e.g. runtime exception)" }, { sw1: 0x94, sw2: 0x84, title: "Algorithm not supported" }, { sw1: 0x94, sw2: 0x85, title: "Invalid key check value" }]
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvaG9tZS90cmF2aXMvYnVpbGQvc2FpbmFlbi9ncC1oZWxwZXIvc3JjL2pzL2FwcC5qcyIsIi9ob21lL3RyYXZpcy9idWlsZC9zYWluYWVuL2dwLWhlbHBlci9zcmMvanMvZGF0YS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O2VDQXFCLE9BQU8sQ0FBQyxRQUFRLENBQUM7O0lBQS9CLEdBQUcsWUFBSCxHQUFHO0lBQUUsS0FBSyxZQUFMLEtBQUs7O0FBRWpCLFNBQVMsTUFBTSxDQUFDLEtBQUssRUFBRTtBQUNuQixRQUFJLE9BQU8sQ0FBQztBQUNaLFNBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQ2pDLFlBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDekIsZ0JBQUksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDekIsdUJBQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2pCO0FBQ0QsZ0JBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFO0FBQ2IsdUJBQU8sR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDcEI7U0FDSjtLQUNKO0FBQ0QsUUFBSSxPQUFPLEVBQUU7QUFDVCxlQUFPLE9BQU8sQ0FBQztLQUNsQjtBQUNELFVBQU0sSUFBSSxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUM7Q0FDbEM7O0FBRUQsU0FBUyxZQUFZLENBQUMsR0FBRyxFQUFFO0FBQ3ZCLFdBQU8sR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUM1RDs7QUFFRCxTQUFTLGNBQWMsQ0FBQyxHQUFHLEVBQUU7QUFDekIsUUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO0FBQ2hCLFdBQU8sR0FBRyxFQUFFO0FBQ1IsY0FBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUM1QyxXQUFHLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN2QjtBQUNELFdBQU8sTUFBTSxDQUFDO0NBQ2pCOztBQUVELFNBQVMsSUFBSSxDQUFDLEtBQUssRUFBRTtBQUNqQixXQUFPLEtBQUssQ0FBQyxNQUFNLElBQUksQ0FBQyxDQUFDO0NBQzVCOztBQUVELFNBQVMsUUFBUSxDQUFDLEtBQUssRUFBRTtBQUNyQixXQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLElBQUksS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7Q0FDOUM7O0FBRUQsU0FBUyxZQUFZLENBQUMsS0FBSyxFQUFFO0FBQ3pCLFdBQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksSUFBSSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUM7Q0FDaEU7O0FBRUQsU0FBUyxLQUFLLENBQUMsS0FBSyxFQUFFO0FBQ2xCLFdBQU8sS0FBSyxDQUFDLE1BQU0sSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQztDQUN2RDs7QUFFRCxTQUFTLGlCQUFpQixDQUFDLEdBQUcsRUFBRTtBQUM1QixRQUFJLFdBQVcsR0FBRztBQUNkLFdBQUcsRUFBRSxFQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUM7QUFDaEIsV0FBRyxFQUFFLEVBQUMsRUFBRSxFQUFFLEtBQUssRUFBQztBQUNoQixZQUFJLEVBQUUsRUFBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUM7QUFDOUIsU0FBQyxFQUFFLEVBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDO0FBQzNCLFdBQUcsRUFBRSxFQUFDLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQztBQUM1QixVQUFFLEVBQUUsRUFBQyxFQUFFLEVBQUUsSUFBSSxFQUFDO0FBQ2QsVUFBRSxFQUFFLEVBQUMsRUFBRSxFQUFFLElBQUksRUFBQztBQUNkLFVBQUUsRUFBRSxFQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUM7QUFDZCxVQUFFLEVBQUUsRUFBQyxFQUFFLEVBQUUsSUFBSSxFQUFDO0tBQ2pCLENBQUM7QUFDRixXQUFPLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsUUFBUSxDQUFDLEtBQUssRUFBRTtBQUNoRSxlQUFPLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7S0FDaEUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEtBQUssQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFO0FBQ3BDLFlBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRTtBQUMxQixtQkFBTyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDbkMsbUJBQU8sTUFBTSxDQUFDO1NBQ2pCO0FBQ0QsWUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNuQyxZQUFJLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxXQUFXLEVBQUU7QUFDL0IsZ0JBQUksU0FBUyxHQUFHLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1QyxnQkFBSSxTQUFTLENBQUMsRUFBRSxJQUFJLE1BQU0sRUFBRTtBQUN4Qix1QkFBTyxDQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7YUFDakQ7QUFDRCxrQkFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsR0FBSSxTQUFTLENBQUMsSUFBSSxHQUFHLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxBQUFDLENBQUM7U0FDM0csTUFBTTtBQUNILG1CQUFPLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUNoRDtBQUNELGVBQU8sTUFBTSxDQUFDO0tBQ2pCLEVBQUUsRUFBRSxDQUFDLENBQUM7Q0FDVjs7QUFFRCxTQUFTLFFBQVEsQ0FBQyxLQUFLLEVBQUU7QUFDckIsUUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQ2QsUUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUEsSUFBSyxDQUFDLEVBQUU7QUFDckMsY0FBTSxJQUFJLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO0tBQzdDO0FBQ0QsUUFBSSxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEIsUUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUEsSUFBSyxDQUFDLEVBQUU7QUFDeEIsWUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7S0FDeEI7QUFDRCxRQUFJLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwQixRQUFJLENBQUMsRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuQixRQUFJLENBQUMsRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuQixRQUFJLENBQUMsRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNuQixRQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7O0FBRWYsWUFBSSxDQUFDLEdBQUcsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3hEO0FBQ0QsUUFBSSxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQSxBQUFDLENBQUMsQ0FBQztBQUMzRSxRQUFJLGFBQWEsR0FBRyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQy9DLFFBQUksYUFBYSxHQUFHLENBQUMsRUFBRTtBQUNuQixjQUFNLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0tBQ2hDO0FBQ0QsUUFBSSxhQUFhLElBQUksQ0FBQyxFQUFFO0FBQ3BCLFlBQUksQ0FBQyxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFBLEFBQUMsQ0FBQyxDQUFDO0tBQ25FO0FBQ0QsV0FBTyxJQUFJLENBQUM7Q0FDZjs7QUFFRCxTQUFTLGdCQUFnQixDQUFDLElBQUksRUFBRTtBQUM1QixRQUFJLE1BQU0sR0FBRyxrQkFBa0IsQ0FBQztBQUNoQyxXQUFPLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDO0NBQ2hFOztBQUVELFNBQVMsVUFBVSxDQUFDLElBQUksRUFBRTtBQUN0QixXQUFPLElBQUksR0FBRyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUN4Qzs7QUFFRCxTQUFTLFNBQVMsQ0FBQyxDQUFDLEVBQUU7QUFDbEIsV0FBTyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtBQUNqQixTQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztLQUNmO0FBQ0QsV0FBTyxDQUFDLENBQUM7Q0FDWjs7QUFFRCxTQUFTLFlBQVksQ0FBQyxJQUFJLEVBQUU7QUFDeEIsV0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxHQUFHLGNBQWMsR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRTtBQUM5SCxZQUFJLEdBQUcsSUFBSSxHQUFHLEVBQUU7QUFDWixrQkFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQSxHQUFJLEdBQUcsQ0FBQztTQUNuRDtBQUNELGVBQU8sTUFBTSxDQUFDO0tBQ2pCLEVBQUUsRUFBRSxDQUFDLEdBQUcsR0FBRyxHQUFHLG1CQUFtQixDQUFBLEFBQUMsQ0FBQztDQUMzQzs7QUFFRCxTQUFTLGVBQWUsQ0FBQyxLQUFLLEVBQUU7QUFDNUIsUUFBSSxLQUFLLENBQUMsTUFBTSxHQUFHLEVBQUUsRUFBRTtBQUNuQixlQUFPLEdBQUcsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLHdEQUF3RCxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLGFBQWEsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxVQUFVLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7S0FDNVA7QUFDRCxXQUFPLEdBQUcsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxVQUFVLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7Q0FDbkY7O0FBRUQsU0FBUyxTQUFTLENBQUMsSUFBSSxFQUFFO0FBQ3JCLFFBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN2QixXQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLGFBQWEsQ0FBQSxBQUFDLEdBQUcsR0FBRyxDQUFDO0NBQ2xFOztBQUVELFNBQVMsaUJBQWlCLENBQUMsSUFBSSxFQUFFO0FBQzdCLFFBQUksSUFBSSxHQUNKLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxJQUFJLEdBQUcsWUFBWSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFBLElBQzNELElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxHQUFHLFlBQVksR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQSxBQUFDLElBQzNELElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxHQUFHLFdBQVcsR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQSxBQUFDLElBQzNELElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxHQUFHLFdBQVcsR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQSxBQUFDLElBQzNELElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxHQUFHLFdBQVcsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUEsQUFBQyxJQUNoRixJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksR0FBRyxhQUFhLEdBQUcsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUEsQUFBQyxDQUFDO0FBQzFFLFFBQUksS0FBSyxJQUFJLElBQUksRUFBRTtBQUNmLFlBQUksSUFBSSxZQUFZLEdBQUcsZUFBZSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUNwRDtBQUNELFFBQUksSUFBSSxJQUFJLElBQUksRUFBRTtBQUNkLFlBQUksSUFBSSxXQUFXLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQTtLQUM1QztBQUNELFdBQU8sSUFBSSxDQUFDO0NBQ2Y7O0FBRUQsU0FBUyxVQUFVLENBQUMsSUFBSSxFQUFFO0FBQ3RCLFFBQUksa0JBQWtCLEdBQUc7QUFDckIsWUFBSSxFQUFFLFdBQVUsV0FBVyxFQUFFO0FBQ3pCLGdCQUFJLFdBQVcsR0FBRyxzSEFBc0gsSUFDbkksV0FBVyxDQUFDLEVBQUUsSUFBSSxJQUFJLEdBQUcsNkNBQTZDLEdBQUcscUNBQXFDLENBQUEsQUFBQyxHQUNoSCxzQkFBc0IsQ0FBQztBQUMzQixtQkFBTyxXQUFXLEdBQUcsSUFBSSxHQUFHLGlCQUFpQixDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3ZEO0tBQ0osQ0FBQzs7QUFFRixXQUFRLGtCQUFrQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUU7Q0FDeEc7O0FBRUQsU0FBUyxRQUFRLENBQUMsS0FBSyxFQUFFO0FBQ3JCLFdBQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQztDQUM5Qjs7QUFFRCxTQUFTLFNBQVMsQ0FBQyxLQUFLLEVBQUU7QUFDdEIsV0FBTyxLQUFLLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0NBQy9DOztBQUVELFNBQVMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFO0FBQzdCLFFBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsQixXQUFPLGFBQWEsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7Q0FDMUQ7O0FBRUQsU0FBUyxlQUFlLENBQUMsR0FBRyxFQUFFO0FBQzFCLFFBQUksY0FBYyxHQUFHLEdBQUcsQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUN2QyxXQUFPLENBQUMsRUFBRSxjQUFjLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUMxQyxjQUFjLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUNuQyxjQUFjLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUNwQyxjQUFjLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUNuQyxjQUFjLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUNsQyxjQUFjLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUNsQyxjQUFjLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBLEFBQUMsQ0FBQztDQUMxQzs7QUFFRCxTQUFTLE1BQU0sQ0FBQyxLQUFLLEVBQUU7QUFDbkIsU0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNyQixRQUFJLENBQUMsS0FBSyxFQUFFO0FBQ1IsY0FBTSxjQUFjLENBQUM7S0FDeEI7QUFDRCxRQUFJLGVBQWUsQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUN4QixlQUFPLGdCQUFnQixHQUFHLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztLQUN6RTtBQUNELFFBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDdEIsY0FBTSxtQkFBbUIsQ0FBQztLQUM3QjtBQUNELFFBQUksS0FBSyxHQUFHLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNsQyxRQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUNqQixlQUFPLFFBQVEsR0FBRyxVQUFVLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO0tBQ3hEO0FBQ0QsUUFBSSxZQUFZLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDckIsZUFBTyxRQUFRLEdBQUcsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDO0tBQ3BEO0FBQ0QsUUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDYixlQUFPLGVBQWUsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDO0tBQ25EO0FBQ0QsUUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDZCxlQUFPLGNBQWMsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDO0tBQ2xEO0FBQ0QsVUFBTSxnQkFBZ0IsQ0FBQztDQUMxQjs7QUFFRCxDQUFDLENBQUMsWUFBWTs7QUFFVixRQUFJLEdBQUcsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDbkIsUUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3JCLFFBQUksT0FBTyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUMzQixXQUFPLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsRUFBRTtBQUM5QixTQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7QUFDbkIsWUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ3RCLFlBQUk7QUFDQSxnQkFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUN6QixvQkFBUSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDO1NBQ3RFLENBQUMsT0FBTyxFQUFFLEVBQUU7QUFDVCxtQkFBTyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNsQixnQkFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUNqQjtLQUNKLENBQUMsQ0FBQztBQUNILFFBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsRUFBRTtBQUNuQyxZQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3hCLFlBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDaEMsYUFBSyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0tBQ3ZELENBQUMsQ0FBQztBQUNILEtBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLFVBQVUsQ0FBQyxFQUFFO0FBQ3BDLFlBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUU7QUFDdEIsZ0JBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUM1QyxnQkFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssTUFBTSxFQUFFO0FBQ3RCLG1CQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ2hCLHVCQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7YUFDcEI7U0FDSjtLQUNKLENBQUMsQ0FBQztBQUNILFFBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUU7QUFDdEIsV0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4QyxlQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7S0FDcEI7Q0FDSixDQUFDLENBQUM7Ozs7O0FDdFFILE1BQU0sQ0FBQyxPQUFPLEdBQUc7QUFDYixTQUFLLEVBQUU7QUFDSCxZQUFJLEVBQUUsNkJBQTZCO0FBQ25DLFlBQUksRUFBRSx1Q0FBdUM7QUFDN0MsWUFBSSxFQUFFLG1CQUFtQjtBQUN6QixZQUFJLEVBQUUsZ0JBQWdCO0FBQ3RCLFlBQUksRUFBRSxtQkFBbUI7QUFDekIsWUFBSSxFQUFFLHFCQUFxQjtBQUMzQixZQUFJLEVBQUUsdUJBQXVCO0FBQzdCLFlBQUksRUFBRSxlQUFlO0FBQ3JCLFlBQUksRUFBRSx1QkFBdUI7QUFDN0IsWUFBSSxFQUFFLFFBQVE7QUFDZCxZQUFJLEVBQUUsVUFBVTtBQUNoQixZQUFJLEVBQUUsVUFBVTtBQUNoQixZQUFJLEVBQUUsU0FBUztBQUNmLFlBQUksRUFBRSxZQUFZO0FBQ2xCLFlBQUksRUFBRSxRQUFRO0FBQ2QsWUFBSSxFQUFFLFNBQVM7QUFDZixZQUFJLEVBQUUsTUFBTTtBQUNaLFlBQUksRUFBRSxZQUFZO0FBQ2xCLFlBQUksRUFBRSxZQUFZO0tBQ3JCO0FBQ0QsT0FBRyxFQUFFLENBQ0QsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBQyxFQUN4QyxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQWEsS0FBSyxFQUFFLGdEQUFnRCxFQUFDLEVBQy9FLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxnQ0FBZ0MsRUFBQyxFQUMvRCxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsc0NBQXNDLEVBQUMsRUFDckUsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLGdHQUFnRyxFQUFDLEVBQy9ILEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxxQkFBcUIsRUFBQyxFQUNwRCxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsdUJBQXVCLEVBQUMsRUFDdEQsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLGdCQUFnQixFQUFDLEVBQy9DLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxvQkFBb0IsRUFBQyxFQUNuRCxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsZ0RBQWdELEVBQUMsRUFDL0UsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLGdDQUFnQyxFQUFDLEVBQy9ELEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSw0Q0FBNEMsRUFBQyxFQUMzRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsK0JBQStCLEVBQUMsRUFDOUQsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLGlDQUFpQyxFQUFDLEVBQ2hFLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxrQ0FBa0MsRUFBQyxFQUNqRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsa0VBQWtFLEVBQUMsRUFDakcsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLDRCQUE0QixFQUFDLEVBQzNELEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSx5QkFBeUIsRUFBQyxFQUN4RCxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEVBQUMsRUFDaEQsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLDJCQUEyQixFQUFDLEVBQzFELEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxzQ0FBc0MsRUFBQyxFQUNyRSxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFDLEVBQzlDLEVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxpRkFBaUYsRUFBQyxFQUNoSCxFQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUseUJBQXlCLEVBQUMsRUFDeEQsRUFBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLHlCQUF5QixFQUFDLENBQzNEO0NBQ0osQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJjb25zdCB7c3dzLCBpbnNlc30gPSByZXF1aXJlKFwiLi9kYXRhXCIpO1xuXG5mdW5jdGlvbiBmaW5kU1coYnl0ZXMpIHtcbiAgICB2YXIgZ2VuZXJpYztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN3cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc3dzW2ldLnN3MSA9PT0gYnl0ZXNbMF0pIHtcbiAgICAgICAgICAgIGlmIChzd3NbaV0uc3cyID09PSBieXRlc1sxXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzd3NbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN3c1tpXS5zdzIpIHtcbiAgICAgICAgICAgICAgICBnZW5lcmljID0gc3dzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChnZW5lcmljKSB7XG4gICAgICAgIHJldHVybiBnZW5lcmljO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIFNXIVwiKTtcbn1cblxuZnVuY3Rpb24gaXNCeXRlU3RyaW5nKHN0cikge1xuICAgIHJldHVybiBzdHIubGVuZ3RoICUgMiA9PSAwICYmIC9eWzAtOWEtZkEtRl0rJC8udGVzdChzdHIpO1xufVxuXG5mdW5jdGlvbiBzcGxpdEludG9CeXRlcyhzdHIpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgd2hpbGUgKHN0cikge1xuICAgICAgICByZXN1bHQucHVzaChwYXJzZUludChzdHIuc3Vic3RyKDAsIDIpLCAxNikpO1xuICAgICAgICBzdHIgPSBzdHIuc3Vic3RyKDIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBpc1NXKGJ5dGVzKSB7XG4gICAgcmV0dXJuIGJ5dGVzLmxlbmd0aCA9PSAyO1xufVxuXG5mdW5jdGlvbiBpc0dwQVBEVShieXRlcykge1xuICAgIHJldHVybiBieXRlc1swXSAmIDB4ODAgJiYgYnl0ZXMubGVuZ3RoID4gNDtcbn1cblxuZnVuY3Rpb24gaXNTZWxlY3RBUERVKGJ5dGVzKSB7XG4gICAgcmV0dXJuIGJ5dGVzWzBdID09IDAgJiYgYnl0ZXNbMV0gPT0gMHhBNCAmJiBieXRlc1syXSA9PSAweDA0O1xufVxuXG5mdW5jdGlvbiBpc0lOUyhieXRlcykge1xuICAgIHJldHVybiBieXRlcy5sZW5ndGggPT0gMSAmJiBpbnNlc1tieXRlc1swXV0gIT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gZm9ybVRva2VuaXplZEFQRFUoc3RyKSB7XG4gICAgdmFyIGtub3duVG9rZW5zID0ge1xuICAgICAgICBJTlM6IHtpZDogXCJpbnNcIn0sXG4gICAgICAgIENMQToge2lkOiBcImNsYVwifSxcbiAgICAgICAgREFUQToge2lkOiBcImRhdGFcIiwgbG9uZzogdHJ1ZX0sXG4gICAgICAgIEQ6IHtpZDogXCJkYXRhXCIsIGxvbmc6IHRydWV9LFxuICAgICAgICBNQUM6IHtpZDogXCJtYWNcIiwgbG9uZzogdHJ1ZX0sXG4gICAgICAgIExFOiB7aWQ6IFwibGVcIn0sXG4gICAgICAgIFAxOiB7aWQ6IFwicDFcIn0sXG4gICAgICAgIFAyOiB7aWQ6IFwicDJcIn0sXG4gICAgICAgIExDOiB7aWQ6IFwibGNcIn1cbiAgICB9O1xuICAgIHJldHVybiBzdHIudG9VcHBlckNhc2UoKS5zcGxpdCgvXFxzKy9nKS5tYXAoZnVuY3Rpb24gc2FuaXRpemUodG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHRva2VuLnJlcGxhY2UoXCIwWFwiLCBcIlwiKS5yZXBsYWNlKC9bLC47XSsvZywgXCJcIikudHJpbSgpO1xuICAgIH0pLnJlZHVjZShmdW5jdGlvbiBwYXJzZShyZXN1bHQsIHRva2VuKSB7XG4gICAgICAgIGlmICh0b2tlbi5pbmRleE9mKFwiOlwiKSA9PSAtMSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiV3JvbmcgdG9rZW5cIiwgdG9rZW4pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyc2VkVG9rZW4gPSB0b2tlbi5zcGxpdChcIjpcIik7XG4gICAgICAgIGlmIChwYXJzZWRUb2tlblswXSBpbiBrbm93blRva2Vucykge1xuICAgICAgICAgICAgdmFyIHRva2VuUHJvcCA9IGtub3duVG9rZW5zW3BhcnNlZFRva2VuWzBdXTtcbiAgICAgICAgICAgIGlmICh0b2tlblByb3AuaWQgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRHVwbGljYXRlIHRva2VuXCIsIHRva2VuUHJvcC5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHRbdG9rZW5Qcm9wLmlkXSA9ICh0b2tlblByb3AubG9uZyA/IHNwbGl0SW50b0J5dGVzKHBhcnNlZFRva2VuWzFdKSA6IHBhcnNlSW50KHBhcnNlZFRva2VuWzFdLCAxNikpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5rbm93biB0b2tlblwiLCBwYXJzZWRUb2tlblswXSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gZm9ybUFQRFUoYnl0ZXMpIHtcbiAgICB2YXIgYXBkdSA9IHt9O1xuICAgIGlmICghYnl0ZXNbMF0gfHwgKGJ5dGVzWzBdICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBHUCBDYXJkIENvbW1hbmQhXCIpO1xuICAgIH1cbiAgICBhcGR1LmNsYSA9IGJ5dGVzWzBdO1xuICAgIGlmICgoYnl0ZXNbMF0gJiAweDA0KSAhPSAwKSB7XG4gICAgICAgIGFwZHUuc2VjdXJpdHkgPSB0cnVlO1xuICAgIH1cbiAgICBhcGR1LmlucyA9IGJ5dGVzWzFdO1xuICAgIGFwZHUucDEgPSBieXRlc1syXTtcbiAgICBhcGR1LnAyID0gYnl0ZXNbM107XG4gICAgYXBkdS5sYyA9IGJ5dGVzWzRdO1xuICAgIGlmIChhcGR1LnNlY3VyaXR5KSB7XG4gICAgICAgIC8vIG1hYyBpcyBpbmNsdWRlZCBpbiBMY1xuICAgICAgICBhcGR1Lm1hYyA9IGJ5dGVzLnNsaWNlKDUgKyBhcGR1LmxjIC0gOCwgNSArIGFwZHUubGMpO1xuICAgIH1cbiAgICBhcGR1LmRhdGEgPSBieXRlcy5zbGljZSg1LCA1ICsgYXBkdS5sYyAtIChhcGR1Lm1hYyA/IGFwZHUubWFjLmxlbmd0aCA6IDApKTtcbiAgICB2YXIgYWRkaXRpb25hbExlbiA9IGJ5dGVzLmxlbmd0aCAtIDUgLSBhcGR1LmxjO1xuICAgIGlmIChhZGRpdGlvbmFsTGVuID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXcm9uZyBMYyFcIik7XG4gICAgfVxuICAgIGlmIChhZGRpdGlvbmFsTGVuID09IDEpIHtcbiAgICAgICAgYXBkdS5sZSA9IGJ5dGVzWzUgKyBhcGR1LmxjICsgKGFwZHUubWFjID8gYXBkdS5tYWMubGVuZ3RoIDogMCldO1xuICAgIH1cbiAgICByZXR1cm4gYXBkdTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0Qnl0ZVNpbXBsZShieXRlKSB7XG4gICAgdmFyIGRpZ2l0cyA9IFwiMDEyMzQ1Njc4OUFCQ0RFRlwiO1xuICAgIHJldHVybiBkaWdpdHMuY2hhckF0KGJ5dGUgPj4gNCkgKyBkaWdpdHMuY2hhckF0KGJ5dGUgJiAweDBGKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0Qnl0ZShieXRlKSB7XG4gICAgcmV0dXJuIFwiMHhcIiArIGZvcm1hdEJ5dGVTaW1wbGUoYnl0ZSk7XG59XG5cbmZ1bmN0aW9uIHBhZFRvQnl0ZShuKSB7XG4gICAgd2hpbGUgKG4ubGVuZ3RoIDwgOCkge1xuICAgICAgICBuID0gXCIwXCIgKyBuO1xuICAgIH1cbiAgICByZXR1cm4gbjtcbn1cblxuZnVuY3Rpb24gZm9ybWF0Qml0c2V0KGJ5dGUpIHtcbiAgICByZXR1cm4gZm9ybWF0Qnl0ZShieXRlKSArIChieXRlID8gXCIgKGJpdHMgc2V0OiBcIiArIHBhZFRvQnl0ZShieXRlLnRvU3RyaW5nKDIpKS5zcGxpdChcIlwiKS5yZXZlcnNlKCkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGJpdCwgaWR4KSB7XG4gICAgICAgICAgICBpZiAoYml0ID09IFwiMVwiKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ICs9IChyZXN1bHQubGVuZ3RoID4gMCA/IFwiLCBcIiA6IFwiXCIpICsgaWR4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSwgXCJcIikgKyBcIilcIiA6IFwiIChiaXRzIHNldDogbm9uZSlcIik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEJ5dGVBcnJheShieXRlcykge1xuICAgIGlmIChieXRlcy5sZW5ndGggPiAxNCkge1xuICAgICAgICByZXR1cm4gXCJbXCIgKyBieXRlcy5zbGljZSgwLCA4KS5tYXAoZm9ybWF0Qnl0ZSkuam9pbihcIiwgXCIpICsgXCIsIDxhIGNsYXNzPSdtb3JlJyBzdHlsZT0nY3Vyc29yOiBwb2ludGVyJyBkYXRhLWJ5dGVzPSdcIiArIEpTT04uc3RyaW5naWZ5KGJ5dGVzLnNsaWNlKDgsIC00KSkgKyBcIic+Li4uPC9hPiwgXCIgKyBieXRlcy5zbGljZSgtNCkubWFwKGZvcm1hdEJ5dGUpLmpvaW4oXCIsIFwiKSArIFwiXSAobGVuOiBcIiArIGJ5dGVzLmxlbmd0aCArIFwiKVwiO1xuICAgIH1cbiAgICByZXR1cm4gXCJbXCIgKyBieXRlcy5tYXAoZm9ybWF0Qnl0ZSkuam9pbihcIiwgXCIpICsgXCJdIChsZW46IFwiICsgYnl0ZXMubGVuZ3RoICsgXCIpXCI7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdElOUyhieXRlKSB7XG4gICAgdmFyIG5hbWUgPSBpbnNlc1tieXRlXTtcbiAgICByZXR1cm4gZm9ybWF0Qnl0ZShieXRlKSArIFwiIChcIiArIChuYW1lIHx8IFwiVW5rbm93biBJTlNcIikgKyBcIilcIjtcbn1cblxuZnVuY3Rpb24gZm9ybWF0R2VuZXJpY0FQRFUoYXBkdSkge1xuICAgIHZhciB0ZXh0ID1cbiAgICAgICAgKGFwZHUuY2xhICE9IG51bGwgPyBcIlxcblxcdENMQTpcXHRcIiArIGZvcm1hdEJ5dGUoYXBkdS5jbGEpIDogXCJcIikgK1xuICAgICAgICAoYXBkdS5pbnMgIT0gbnVsbCA/IFwiXFxuXFx0SU5TOlxcdFwiICsgZm9ybWF0SU5TKGFwZHUuaW5zKSA6IFwiXCIpICtcbiAgICAgICAgKGFwZHUucDEgIT0gbnVsbCA/IFwiXFxuXFx0UDE6XFx0XCIgKyBmb3JtYXRCaXRzZXQoYXBkdS5wMSkgOiBcIlwiKSArXG4gICAgICAgIChhcGR1LnAyICE9IG51bGwgPyBcIlxcblxcdFAyOlxcdFwiICsgZm9ybWF0Qml0c2V0KGFwZHUucDIpIDogXCJcIikgK1xuICAgICAgICAoYXBkdS5sYyAhPSBudWxsID8gXCJcXG5cXHRMYzpcXHRcIiArIGZvcm1hdEJ5dGUoYXBkdS5sYykgKyBcIiAoXCIgKyBhcGR1LmxjICsgXCIpXCIgOiBcIlwiKSArXG4gICAgICAgIChhcGR1LmRhdGEgIT0gbnVsbCA/IFwiXFxuXFx0RGF0YTpcXHRcIiArIGZvcm1hdEJ5dGVBcnJheShhcGR1LmRhdGEpIDogXCJcIik7XG4gICAgaWYgKFwibWFjXCIgaW4gYXBkdSkge1xuICAgICAgICB0ZXh0ICs9IFwiXFxuXFx0TUFDOlxcdFwiICsgZm9ybWF0Qnl0ZUFycmF5KGFwZHUubWFjKTtcbiAgICB9XG4gICAgaWYgKFwibGVcIiBpbiBhcGR1KSB7XG4gICAgICAgIHRleHQgKz0gXCJcXG5cXHRMZTpcXHRcIiArIGZvcm1hdEJ5dGUoYXBkdS5sZSlcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEFQRFUoYXBkdSkge1xuICAgIHZhciBrbm93bkFQRFVGb3JtYXRlcnMgPSB7XG4gICAgICAgIDB4ODI6IGZ1bmN0aW9uIChleHRBdXRoQXBkdSkge1xuICAgICAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gXCJcXG5cXHQ8Yj5EZXNjcmlwdGlvbjo8L2I+IEV4dGVybmFsIEF1dGhlbnRpY2F0ZSBjb21tYW5kIHdoaWNoIHdpbGwgYXV0aGVudGljYXRlIGhvc3Qgb24gdGhlIGNhcmQ8YnIvPlxcdFxcdCAgICAgYW5kIHNldCBcIiArXG4gICAgICAgICAgICAgICAgKGV4dEF1dGhBcGR1LnAxID09IDB4MDMgPyBcInRoZSB0aGlyZCBzZWN1cml0eSBsZXZlbCAoZW5jcnlwdGlvbiArIE1BQylcIiA6IFwidGhlIGZpcnN0IHNlY3VyaXR5IGxldmVsIChvbmx5IE1BQylcIikgK1xuICAgICAgICAgICAgICAgIFwiIGZvciB0aGUgbmV4dCBBUERVcy5cIjtcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbiArIFwiXFxuXCIgKyBmb3JtYXRHZW5lcmljQVBEVShhcGR1KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gKGtub3duQVBEVUZvcm1hdGVyc1thcGR1Lmluc10gPyBrbm93bkFQRFVGb3JtYXRlcnNbYXBkdS5pbnNdKGFwZHUpIDogZm9ybWF0R2VuZXJpY0FQRFUoYXBkdSkpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRTVyhieXRlcykge1xuICAgIHJldHVybiBmaW5kU1coYnl0ZXMpLnRpdGxlO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRBSUQoYnl0ZXMpIHtcbiAgICByZXR1cm4gYnl0ZXMubWFwKGZvcm1hdEJ5dGVTaW1wbGUpLmpvaW4oXCJcIik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFNlbGVjdEFQRFUoYnl0ZXMpIHtcbiAgICB2YXIgbGMgPSBieXRlc1s0XTtcbiAgICByZXR1cm4gXCJTZWxlY3QgQUlEIFwiICsgZm9ybWF0QUlEKGJ5dGVzLnNsaWNlKDUsIDUrbGMpKTtcbn1cblxuZnVuY3Rpb24gaXNUb2tlbml6ZWRBUERVKHN0cikge1xuICAgIHZhciBjYXBpdGFsaXplZFN0ciA9IHN0ci50b1VwcGVyQ2FzZSgpO1xuICAgIHJldHVybiAhIShjYXBpdGFsaXplZFN0ci5pbmRleE9mKFwiSU5TOlwiKSA+IC0xXG4gICAgfHwgY2FwaXRhbGl6ZWRTdHIuaW5kZXhPZihcIkNMQTpcIikgPiAtMVxuICAgIHx8IGNhcGl0YWxpemVkU3RyLmluZGV4T2YoXCJEQVRBOlwiKSA+IC0xXG4gICAgfHwgY2FwaXRhbGl6ZWRTdHIuaW5kZXhPZihcIk1BQzpcIikgPiAtMVxuICAgIHx8IGNhcGl0YWxpemVkU3RyLmluZGV4T2YoXCJMQzpcIikgPiAtMVxuICAgIHx8IGNhcGl0YWxpemVkU3RyLmluZGV4T2YoXCJQMTpcIikgPiAtMVxuICAgIHx8IGNhcGl0YWxpemVkU3RyLmluZGV4T2YoXCJQMjpcIikgPiAtMSk7XG59XG5cbmZ1bmN0aW9uIHJlbmRlcihpblN0cikge1xuICAgIGluU3RyID0gaW5TdHIudHJpbSgpO1xuICAgIGlmICghaW5TdHIpIHtcbiAgICAgICAgdGhyb3cgXCJFbXB0eSBpbnB1dCFcIjtcbiAgICB9XG4gICAgaWYgKGlzVG9rZW5pemVkQVBEVShpblN0cikpIHtcbiAgICAgICAgcmV0dXJuIFwiQVBEVSAocGFydHMpOiBcIiArIGZvcm1hdEFQRFUoZm9ybVRva2VuaXplZEFQRFUoaW5TdHIpKSArIFwiXFxuXCI7XG4gICAgfVxuICAgIGlmICghaXNCeXRlU3RyaW5nKGluU3RyKSkge1xuICAgICAgICB0aHJvdyBcIk5vdCBhIEJ5dGVTdHJpbmchXCI7XG4gICAgfVxuICAgIHZhciBieXRlcyA9IHNwbGl0SW50b0J5dGVzKGluU3RyKTtcbiAgICBpZiAoaXNHcEFQRFUoYnl0ZXMpKSB7XG4gICAgICAgIHJldHVybiBcIkFQRFU6IFwiICsgZm9ybWF0QVBEVShmb3JtQVBEVShieXRlcykpICsgXCJcXG5cIjtcbiAgICB9XG4gICAgaWYgKGlzU2VsZWN0QVBEVShieXRlcykpIHtcbiAgICAgICAgcmV0dXJuIFwiQVBEVTogXCIgKyBmb3JtYXRTZWxlY3RBUERVKGJ5dGVzKSArIFwiXFxuXCI7XG4gICAgfVxuICAgIGlmIChpc1NXKGJ5dGVzKSkge1xuICAgICAgICByZXR1cm4gXCJTdGF0dXMgV29yZDogXCIgKyBmb3JtYXRTVyhieXRlcykgKyBcIlxcblwiO1xuICAgIH1cbiAgICBpZiAoaXNJTlMoYnl0ZXMpKSB7XG4gICAgICAgIHJldHVybiBcIkdQIENvbW1hbmQ6IFwiICsgaW5zZXNbYnl0ZXNbMF1dICsgXCJcXG5cIjtcbiAgICB9XG4gICAgdGhyb3cgXCJVbmtub3duIGlucHV0IVwiO1xufVxuXG4kKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBvbmxvYWRcbiAgICB2YXIgJGluID0gJChcIiNpblwiKTtcbiAgICB2YXIgJG91dCA9ICQoXCIjb3V0XCIpO1xuICAgIHZhciAkaW5Gb3JtID0gJChcIiNpbkZvcm1cIik7XG4gICAgJGluRm9ybS5vbihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHZhciBpblN0ciA9ICRpbi52YWwoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICRvdXQuaHRtbChyZW5kZXIoaW5TdHIpKTtcbiAgICAgICAgICAgIGxvY2F0aW9uLnJlcGxhY2Uod2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJyMnKVswXSArICcjJyArIGluU3RyKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXgpO1xuICAgICAgICAgICAgJG91dC5odG1sKGV4KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICRvdXQub24oXCJjbGlja1wiLCBcIi5tb3JlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciAkbW9yZSA9ICQoZS50YXJnZXQpO1xuICAgICAgICB2YXIgYnl0ZXMgPSAkbW9yZS5kYXRhKFwiYnl0ZXNcIik7XG4gICAgICAgICRtb3JlLnJlcGxhY2VXaXRoKGJ5dGVzLm1hcChmb3JtYXRCeXRlKS5qb2luKFwiLCBcIikpO1xuICAgIH0pO1xuICAgICQod2luZG93KS5vbihcImhhc2hjaGFuZ2VcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5oYXNoKSB7XG4gICAgICAgICAgICB2YXIgbmV3VmFsID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyKDEpO1xuICAgICAgICAgICAgaWYgKCRpbi52YWwoKSAhPT0gbmV3VmFsKSB7XG4gICAgICAgICAgICAgICAgJGluLnZhbChuZXdWYWwpO1xuICAgICAgICAgICAgICAgICRpbkZvcm0uc3VibWl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgJGluLnZhbCh3aW5kb3cubG9jYXRpb24uaGFzaC5zdWJzdHIoMSkpO1xuICAgICAgICAkaW5Gb3JtLnN1Ym1pdCgpO1xuICAgIH1cbn0pO1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgaW5zZXM6IHtcbiAgICAgICAgMHgyMjogXCJNYW5hZ2UgU2VjdXJpdHkgRW52aXJvbm1lbnRcIixcbiAgICAgICAgMHgyQTogXCJQZXJmb3JtIFNlY3VyaXR5IE9wZXJhdGlvbiBbZGVjaXBoZXJdXCIsXG4gICAgICAgIDB4NTA6IFwiSW5pdGlhbGl6ZSBVcGRhdGVcIixcbiAgICAgICAgMHg3MDogXCJNYW5hZ2UgQ2hhbm5lbFwiLFxuICAgICAgICAweDc4OiBcIkVuZCBSLU1BQyBTZXNzaW9uXCIsXG4gICAgICAgIDB4N0E6IFwiQmVnaW4gUi1NQUMgU2Vzc2lvblwiLFxuICAgICAgICAweDgyOiBcIkV4dGVybmFsIEF1dGhlbnRpY2F0ZVwiLFxuICAgICAgICAweDg0OiBcIkdldCBDaGFsbGVuZ2VcIixcbiAgICAgICAgMHg4ODogXCJJbnRlcm5hbCBBdXRoZW50aWNhdGVcIixcbiAgICAgICAgMHhBNDogXCJTZWxlY3RcIixcbiAgICAgICAgMHhDQTogXCJHZXQgRGF0YVwiLFxuICAgICAgICAweENCOiBcIkdldCBEYXRhXCIsXG4gICAgICAgIDB4RDg6IFwiUHV0IEtleVwiLFxuICAgICAgICAweEUyOiBcIlN0b3JlIERhdGFcIixcbiAgICAgICAgMHhFNDogXCJEZWxldGVcIixcbiAgICAgICAgMHhFNjogXCJJbnN0YWxsXCIsXG4gICAgICAgIDB4RTg6IFwiTG9hZFwiLFxuICAgICAgICAweEYwOiBcIlNldCBTdGF0dXNcIixcbiAgICAgICAgMHhGMjogXCJHZXQgU3RhdHVzXCJcbiAgICB9LFxuICAgIHN3czogW1xuICAgICAgICB7c3cxOiAweDkwLCBzdzI6IDB4MDAsIHRpdGxlOiBcIlN1Y2Nlc3NcIn0sXG4gICAgICAgIHtzdzE6IDB4NjEsICAgICAgICAgICAgdGl0bGU6IFwiUmVzcG9uc2UgZGF0YSBpbmNvbXBsZXRlLCBtb3JlIGJ5dGVzIGF2YWlsYWJsZVwifSxcbiAgICAgICAge3N3MTogMHg2Miwgc3cyOiAweDAwLCB0aXRsZTogXCJMb2dpY2FsIENoYW5uZWwgYWxyZWFkeSBjbG9zZWRcIn0sXG4gICAgICAgIHtzdzE6IDB4NjIsIHN3MjogMHg4MywgdGl0bGU6IFwiQ2FyZCBMaWZlIEN5Y2xlIFN0YXRlIGlzIENBUkRfTE9DS0VEXCJ9LFxuICAgICAgICB7c3cxOiAweDYzLCBzdzI6IDB4MDAsIHRpdGxlOiBcIkV4dGVybmFsIGF1dGg6IEF1dGhlbnRpY2F0aW9uIG9mIGhvc3QgY3J5cHRvZ3JhbSBmYWlsZWQsIG9yIFZlcmlmaWNhdGlvbiBvZiBjZXJ0aWZpY2F0ZSBmYWlsZWRcIn0sXG4gICAgICAgIHtzdzE6IDB4NjMsIHN3MjogMHgxMCwgdGl0bGU6IFwiTW9yZSBkYXRhIGF2YWlsYWJsZVwifSxcbiAgICAgICAge3N3MTogMHg2NCwgc3cyOiAweDAwLCB0aXRsZTogXCJObyBzcGVjaWZpYyBkaWFnbm9zaXNcIn0sXG4gICAgICAgIHtzdzE6IDB4NjUsIHN3MjogMHg4MSwgdGl0bGU6IFwiTWVtb3J5IGZhaWx1cmVcIn0sXG4gICAgICAgIHtzdzE6IDB4NjcsIHN3MjogMHgwMCwgdGl0bGU6IFwiV3JvbmcgbGVuZ3RoIGluIExjXCJ9LFxuICAgICAgICB7c3cxOiAweDY4LCBzdzI6IDB4ODEsIHRpdGxlOiBcIkxvZ2ljYWwgY2hhbm5lbCBub3Qgc3VwcG9ydGVkIG9yIGlzIG5vdCBhY3RpdmVcIn0sXG4gICAgICAgIHtzdzE6IDB4NjgsIHN3MjogMHg4MiwgdGl0bGU6IFwiU2VjdXJlIG1lc3NhZ2luZyBub3Qgc3VwcG9ydGVkXCJ9LFxuICAgICAgICB7c3cxOiAweDY4LCBzdzI6IDB4ODMsIHRpdGxlOiBcIlRoZSBsYXN0IGNvbW1hbmQgb2YgdGhlIGNoYWluIHdhcyBleHBlY3RlZFwifSxcbiAgICAgICAge3N3MTogMHg2OSwgc3cyOiAweDgyLCB0aXRsZTogXCJTZWN1cml0eSBzdGF0dXMgbm90IHNhdGlzZmllZFwifSxcbiAgICAgICAge3N3MTogMHg2OSwgc3cyOiAweDg1LCB0aXRsZTogXCJDb25kaXRpb25zIG9mIHVzZSBub3Qgc2F0aXNmaWVkXCJ9LFxuICAgICAgICB7c3cxOiAweDZBLCBzdzI6IDB4ODAsIHRpdGxlOiBcIkluY29ycmVjdCB2YWx1ZXMgaW4gY29tbWFuZCBkYXRhXCJ9LFxuICAgICAgICB7c3cxOiAweDZBLCBzdzI6IDB4ODEsIHRpdGxlOiBcIkZ1bmN0aW9uIG5vdCBzdXBwb3J0ZWQgZS5nLiBjYXJkIExpZmUgQ3ljbGUgU3RhdGUgaXMgQ0FSRF9MT0NLRURcIn0sXG4gICAgICAgIHtzdzE6IDB4NkEsIHN3MjogMHg4MiwgdGl0bGU6IFwiQXBwbGljYXRpb24vZmlsZSBub3QgZm91bmRcIn0sXG4gICAgICAgIHtzdzE6IDB4NkEsIHN3MjogMHg4NCwgdGl0bGU6IFwiTm90IGVub3VnaCBtZW1vcnkgc3BhY2VcIn0sXG4gICAgICAgIHtzdzE6IDB4NkEsIHN3MjogMHg4NiwgdGl0bGU6IFwiSW5jb3JyZWN0IFAxIFAyXCJ9LFxuICAgICAgICB7c3cxOiAweDZBLCBzdzI6IDB4ODgsIHRpdGxlOiBcIlJlZmVyZW5jZWQgZGF0YSBub3QgZm91bmRcIn0sXG4gICAgICAgIHtzdzE6IDB4NkQsIHN3MjogMHgwMCwgdGl0bGU6IFwiSW5zdHJ1Y3Rpb24gbm90IHN1cHBvcnRlZCBvciBpbnZhbGlkXCJ9LFxuICAgICAgICB7c3cxOiAweDZFLCBzdzI6IDB4MDAsIHRpdGxlOiBcIkludmFsaWQgY2xhc3NcIn0sXG4gICAgICAgIHtzdzE6IDB4NkYsIHN3MjogMHgwMCwgdGl0bGU6IFwiTm8gc3BlY2lmaWMgZGlhZ25vc2lzIGVycm9yICh0eXBpY2FsbHkgbG93IGxldmVsIGVycm9yLCBlLmcuIHJ1bnRpbWUgZXhjZXB0aW9uKVwifSxcbiAgICAgICAge3N3MTogMHg5NCwgc3cyOiAweDg0LCB0aXRsZTogXCJBbGdvcml0aG0gbm90IHN1cHBvcnRlZFwifSxcbiAgICAgICAge3N3MTogMHg5NCwgc3cyOiAweDg1LCB0aXRsZTogXCJJbnZhbGlkIGtleSBjaGVjayB2YWx1ZVwifVxuICAgIF1cbn07XG4iXX0=
